<!--
  Modified index.html for the PDGA Marketplace demo.  This version is based off
  of the original repository file but adds an id to the Sign In link so that
  our JavaScript can toggle the label to “Dashboard” when a user has an
  existing session in localStorage.  A short script near the bottom reads
  the stored pdga_user/pdga_event session and updates the link accordingly.
-->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>PDGA Marketplace</title>
    <link rel="stylesheet" href="assets/css/root.css" />
    <link rel="stylesheet" href="assets/css/layout.css" />
    <link rel="stylesheet" href="assets/css/components.css" />
    <link rel="stylesheet" href="assets/css/utilities.css" />
    <link rel="stylesheet" href="assets/css/pages/index.css" />
    <script defer src="javaScripts/Main.js"></script>
  </head>
  <body>
    <!-- HEADER -->
    <header class="site-header">
      <div class="container">
        <a class="brand" href="index.html">PDGA Marketplace</a>

        <ul class="nav">
          <li><a href="index.html" aria-current="page">Home</a></li>
          <li><a href="tournamentItems.html">Event Supplies</a></li>
        </ul>

        <form role="search" class="search">
          <label for="q" class="sr-only">Search</label>
          <input id="q" name="q" type="search" placeholder="Search…" />
        </form>

        <!-- Header actions with sign‑in link -->
        <div class="header-actions">
          <a href="https://www.pdga.com/td/how-to-sanction-event" class="btn btn-box"
            >Create Event</a
          >
          <!--
            Use an id on the sign in link so that JavaScript can toggle the text
            to “Dashboard” and point back to signIn.html when a session exists.
          -->
          <a href="signIn.html" class="btn btn-box" id="signInLink">Sign In</a>
        </div>
      </div>
    </header>

    <main>
      <!-- HERO -->
      <section class="hero">
        <div class="container">
          <div>
            <h1>The #1 Store for Tournament Directors of the PDGA</h1>
            <p>
              Build your own player packs, order course materials, and upload custom designs for
              event merch.
            </p>
            <p class="actions">
              <a href="tournamentItems.html" class="btn btn-box">Shop Tournament Items</a>
            </p>
          </div>
          <!--Spinning Disc animation-->
          <figure aria-hidden="true">
            <img class="disc spin" src="images/spinningDiscLogo.png" alt="PDGA Disc Logo" />
          </figure>
        </div>
      </section>

      <!-- HOW IT WORKS -->
      <!-- if this is a new marketplace it may be useful to provide a how to section-->
      <section class="info">
        <div class="container">
          <h2>How ordering works</h2>
          <ol class="steps">
            <li>
              <h3>Verify your email</h3>
              <p class="muted">Select the event you'd like to order for</p>
            </li>
            <li>
              <h3>Select event supplies &amp; upload artwork</h3>
              <p class="muted">Include custom logos/designs for apparel or discs.</p>
              <p class="muted">Use filters to find materials that fit your course needs.</p>
            </li>
            <li>
              <h3>Checkout or save for later</h3>
              <p class="muted">Complete payment or print and shop local</p>
            </li>
          </ol>
        </div>
      </section>

      <!-- START YOUR ORDER -->
      <section class="featured">
        <div class="container">
          <h2>Start your order</h2>
          <p class="muted">Jump into the most commonly ordered items for TDs.</p>

          <div class="cards">
            <a class="card" href="tournamentItems.html">
              <div class="card-icon">
                <img src="images/flag-banner-fold-fill.svg" alt="Tournament Items Icon" />
              </div>
              <h3 class="card-title">Event Supplies</h3>
              <p class="muted">Banners, OB flags, paint, signage, and more.</p>
            </a>

            <a class="card" href="tournamentItems.html#Extras">
              <div class="card-icon">
                <img src="images/shirt.svg" alt="Custom Merch Icon" />
              </div>
              <h3 class="card-title">Custom Event Merch</h3>
              <p class="muted">Upload your event logo for discs, shirts, towels, and more.</p>
            </a>

            <a class="card" href="tournamentItems.html#PlayerPacks">
              <div class="card-icon">
                <img src="images/package-2.svg" alt="Player Packs Icon" />
              </div>
              <h3 class="card-title">Player Packs</h3>
              <p class="muted">Curated packs at TD pricing.</p>
            </a>
          </div>
        </div>
      </section>

      <!-- FEATURED -->
      <section class="featured">
        <div class="container">
          <h2>Featured this season</h2>
          <p class="muted">Popular picks for upcoming events.</p>

          <div class="cards">
            <a class="card" href="tournamentItems.html#Seasonal">
              <div class="card-icon">
                <img src="images/star-shine-linear.svg" alt="Premium Pack Icon" />
              </div>
              <h3 class="card-title">Premium Player Pack</h3>
              <p class="muted">Includes disc + mini marker + towel + water bottle.</p>
            </a>

            <a class="card" href="tournamentItems.html#Extras">
              <div class="card-icon">
                <img src="images/frisbee.svg" alt="Tournament Disc Icon" />
              </div>
              <h3 class="card-title">Custom Printed Tournament Discs</h3>
              <p class="muted">Browse our certified partners customizable discs</p>
            </a>

            <a class="card" href="tournamentItems.html#Safety">
              <div class="card-icon">
                <img src="images/flag.svg" alt="Boundary Flags Icon" />
              </div>
              <h3 class="card-title">OB Boundary Stakes</h3>
              <p class="muted">High-visibility, course-ready.</p>
            </a>
          </div>
        </div>
      </section>
    </main>

    <!-- FOOTER -->
    <footer>
      <div class="container footer">
        <p>
          <strong>PDGA Marketplace</strong><br />
          <span class="muted">Built for Tournament Directors &amp; Clubs.</span>
        </p>
        <p class="muted">© <span id="year"></span> PDGA Marketplace</p>
      </div>
    </footer>

    <!-- Session-aware header script -->
    <script>
      document.addEventListener('DOMContentLoaded', () => {
        // Retrieve any stored session. Prefer newer pdga_event, fall back to pdga_user.
        const savedUser = JSON.parse(localStorage.getItem('pdga_user') || 'null');
        const savedEvent = JSON.parse(localStorage.getItem('pdga_event') || 'null');
        const saved = savedEvent || savedUser;

        // If there is a session, update the sign-in link to be a dashboard link.
        const signInLink = document.getElementById('signInLink');
        if (signInLink && saved) {
          signInLink.textContent = 'Dashboard';
          signInLink.href = 'signIn.html';
        }
      });
    </script>
  </body>
</html>
